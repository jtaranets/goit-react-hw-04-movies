{"version":3,"sources":["services/api.js","Pages/MovieDetailsPage/MovieDetailsPage.module.css","Pages/MovieDetailsPage/MovieDetailsPage.jsx"],"names":["key","getPopularMovies","url","axios","get","then","data","searchMovies","query","getMovieDetails","id","getMovieCast","getReviews","module","exports","Cast","Loadable","loader","loading","Reviews","MovieDetailsPage","state","currentMovie","getMovie","props","match","params","movieId","poster_path","overview","release_date","title","tagline","vote_average","setState","handleGoBackClick","location","history","push","prevPage","this","path","className","styles","container","image","src","height","alt","date","tag","vote","descr","links","link","activeClassName","activeLink","to","render","btn","onClick","type","Component"],"mappings":"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","file":"static/js/movieDetailspage.f08fee4d.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst key = 'c3664196b2f1c1fa55ad771f8fef61e7';\n\nexport const getPopularMovies = () => {\n  const url = `https://api.themoviedb.org/3/trending/all/week?api_key=${key}`;\n  return axios.get(url).then(data => data.data);\n};\n\nexport const searchMovies = query => {\n  const url = `https://api.themoviedb.org/3/search/movie?api_key=${key}&language=en-US&query=${query}&page=1&include_adult=false`;\n  return axios.get(url).then(data => data.data);\n};\n\nexport const getMovieDetails = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}?api_key=${key}&language=en-US`;\n  return axios.get(url).then(data => data.data);\n};\n\nexport const getMovieCast = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/credits?api_key=${key}`;\n  return axios.get(url).then(data => data.data);\n};\n\nexport const getReviews = id => {\n  const url = `https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${key}&language=en-US&page=1`;\n  return axios.get(url).then(data => data.data);\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MovieDetailsPage_container__1LVLO\",\"title\":\"MovieDetailsPage_title__1tooX\",\"image\":\"MovieDetailsPage_image__1sGvl\",\"date\":\"MovieDetailsPage_date__n6Awd\",\"tag\":\"MovieDetailsPage_tag__3bjlB\",\"vote\":\"MovieDetailsPage_vote__m6zA2\",\"overview\":\"MovieDetailsPage_overview__TVr9L\",\"links\":\"MovieDetailsPage_links__1jbnQ\",\"link\":\"MovieDetailsPage_link__uf0pn\",\"activeLink\":\"MovieDetailsPage_activeLink__lxmxc\",\"btn\":\"MovieDetailsPage_btn__r9QQh\"};","import React, { Component } from 'react';\nimport { Route, NavLink } from 'react-router-dom';\nimport Loadable from 'react-loadable';\nimport PropTypes from 'prop-types';\nimport { getMovieDetails } from '../../services/api';\nimport styles from './MovieDetailsPage.module.css';\n\nconst Cast = Loadable({\n  loader: () => import('../Cast/Cast' /* webpackChunkName: \"cast-page\" */),\n  loading() {\n    return <h2>Loading...</h2>;\n  },\n});\n\nconst Reviews = Loadable({\n  loader: () =>\n    import('../Reviews/Reviews' /* webpackChunkName: \"reviews-page\" */),\n  loading() {\n    return <h2>Loading...</h2>;\n  },\n});\n\nclass MovieDetailsPage extends Component {\n  state = {\n    currentMovie: {},\n  };\n\n  static propTypes = {\n    match: PropTypes.object.isRequired,\n    history: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n  };\n\n  componentDidMount() {\n    this.getMovie();\n  }\n\n  getMovie = () => {\n    const id = this.props.match.params.movieId;\n    getMovieDetails(id).then(\n      ({ poster_path, overview, release_date, title, tagline, vote_average }) =>\n        this.setState({\n          currentMovie: {\n            poster_path,\n            overview,\n            release_date,\n            title,\n            tagline,\n            vote_average,\n          },\n        }),\n    );\n  };\n\n  handleGoBackClick = () => {\n    const { location, history } = this.props;\n\n    location.state ? history.push(location.state.prevPage) : history.push('/');\n  };\n\n  render() {\n    const { currentMovie } = this.state;\n    const {\n      poster_path,\n      overview,\n      release_date,\n      title,\n      tagline,\n      vote_average,\n    } = currentMovie;\n    const { match } = this.props;\n    const { url, path, params } = match;\n    return (\n      <div className={styles.container}>\n        <h2 className={styles.title}>{title}</h2>\n        <img\n          className={styles.image}\n          src={`https://image.tmdb.org/t/p/original${poster_path}`}\n          height={700}\n          alt=\"movie poster\"\n        />\n        <p className={styles.date}>{release_date}</p>\n        <p className={styles.tag}>{tagline}</p>\n        <p className={styles.vote}>{vote_average}</p>\n        <p className={styles.descr}>{overview}</p>\n        <div className={styles.links}>\n          <NavLink\n            className={styles.link}\n            activeClassName={styles.activeLink}\n            to={`${url}/cast`}\n          >\n            Cast\n          </NavLink>\n          <NavLink\n            className={styles.link}\n            activeClassName={styles.activeLink}\n            to={`${url}/reviews`}\n          >\n            Reviews\n          </NavLink>\n        </div>\n        <Route\n          path={`${path}/cast`}\n          render={props => <Cast {...props} id={params.movieId} />}\n        />\n        <Route\n          path={`${path}/reviews`}\n          render={props => <Reviews {...props} id={params.movieId} />}\n        />\n        <button\n          className={styles.btn}\n          onClick={this.handleGoBackClick}\n          type=\"button\"\n        >\n          Back to all movies\n        </button>\n      </div>\n    );\n  }\n}\n\nexport default MovieDetailsPage;\n"],"sourceRoot":""}